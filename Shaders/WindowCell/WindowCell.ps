struct PS_In
{
	float4 clipPos : SV_POSITION;	
	float4 cellData : DATA;
};

float4 main(PS_In pIn) : SV_TARGET
{
	float hasObstacle = pIn.cellData.y;
	
	float4 outColor = float4(0,0,0,0);
	
	if(hasObstacle > 0.0)
	{
		outColor = float4(1, 0, 0, 1);
	}
	else
	{
		outColor =  float4(0, 1, 0, 1);
	}
	
	float aff = frac(pIn.cellData.x);
	
	//outColor = normalize(float4(aff.x, 1.0 - aff, pIn.cellData.x, 1.0));
	
	float2 uv = pIn.cellData.zw;
	outColor = float4(uv.x, uv.y, 0.0, 1.0);
	
	outColor += hasObstacle;
	
	return outColor;
}